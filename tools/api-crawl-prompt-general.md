# API 文档爬取任务提示词（通用版）

## 使用方法

将下方「任务提示词模板」复制给 AI，根据你的需求修改配置部分和任务表格，然后发送。

---

## 任务提示词模板（复制此块，修改后发送）

````
请先阅读规则文件：
@ai-prompt-word-rule-repository/CLAUDE/agents/api-docs-extractor-simplified-cn.md

然后按照该文件中的规范，使用相应的工具完成以下 API 文档爬取任务。

## 配置说明

### 目录结构
- **有分类**：`docs/{分类名称}/`
- **无分类**：`docs/`

### 文件命名规则
- **API接口（有分类）**：`{序号}-{分类}-{接口名称}.md`
- **API接口（无分类）**：`{序号}-{接口名称}.md`
- **错误码（有分类）**：`{分类}-返回码参考.md`
- **错误码（无分类）**：`返回码参考.md`
- **枚举值（有分类）**：`{分类}-枚举值参考.md`
- **枚举值（无分类）**：`枚举值参考.md`

### 序号规则
- 查看目标目录，取已有文件的最大编号 +1
- 如果目录为空，从 1 开始

## 补充说明（优先级高于规则文件中的默认值）

- 提取时逐字段读取，确保准确性
- 请求示例代码块须去除行号、语言Tab、`xxxxxxxxxx` 等 UI 噪声，只保留纯净代码
- 响应参数嵌套字段用 `data.xxx[].yyy` 路径格式表示，不要拍平
- 每条处理完立即生成文件，再处理下一条
- 严格执行三层验证机制，确保文档准确性

## 本次任务

{选择以下格式之一}

**格式一：有分类**
| 分类 | URL | 备注 |
|------|-----|------|
| {分类名称} | https://... | {可选说明} |
| {分类名称} | https://... | {可选说明} |

**格式二：无分类**
| URL | 备注 |
|-----|------|
| https://... | {可选说明} |
| https://... | {可选说明} |
````

---

## 填写示例

### 示例1：按平台分类

```
## 本次任务

| 分类 | URL | 备注 |
|------|-----|------|
| QC | https://open.oceanengine.com/labels/12/docs/1809915753481348 | 获取广告主列表 |
| AD | https://open.oceanengine.com/labels/7/docs/1809915654787136 | 获取账户信息 |
| QC | https://open.oceanengine.com/labels/12/docs/1809915753481349 | 创建广告 |
```

### 示例2：按模块分类

```
## 本次任务

| 分类 | URL | 备注 |
|------|-----|------|
| 用户模块 | https://api.example.com/docs/user/login | 用户登录接口 |
| 用户模块 | https://api.example.com/docs/user/register | 用户注册接口 |
| 支付模块 | https://api.example.com/docs/payment/create | 创建支付订单 |
| 支付模块 | https://api.example.com/docs/payment/query | 查询支付状态 |
```

### 示例3：无分类（扁平结构）

```
## 本次任务

| URL | 备注 |
|-----|------|
| https://api.example.com/docs/token | 获取访问令牌 |
| https://api.example.com/docs/user/info | 获取用户信息 |
| https://api.example.com/docs/data/upload | 上传数据 |
```

### 示例4：混合类型（API接口 + 参考文档）

```
## 本次任务

| 分类 | URL | 类型 |
|------|-----|------|
| 支付服务 | https://api.example.com/docs/payment/create | API接口 |
| 支付服务 | https://api.example.com/docs/payment/query | API接口 |
| 支付服务 | https://api.example.com/docs/payment/error-codes | 错误码参考 |
| 支付服务 | https://api.example.com/docs/payment/status-enum | 枚举值参考 |
```

---

## 常见注意事项

### 序号管理
- 查看目标目录（`docs/` 或 `docs/{分类}/`），找到最大编号
- 新文件序号 = 最大编号 + 1
- 如果目录为空，从 1 开始

### 枚举值处理
- 写在描述列，格式：`` `VALUE`（含义）、`VALUE2`（含义） ``
- 如果枚举值较多，建议单独提取为枚举值参考文档

### 嵌套字段表示
- 使用路径格式：`data.list[].field`
- 不要拍平为 `data.list.field`
- 数组元素用 `[]` 表示

### 代码示例清理
- 去除行号（如 `1`、`2`、`3`）
- 去除语言标签（如顶部的 `JSON`、`JavaScript` tab）
- 去除占位符（如 `xxxxxxxxxx`）
- 只保留纯净的代码内容

### 分类命名建议
- **按平台**：`QC`、`AD`、`WeChat`、`Alipay`
- **按模块**：`用户模块`、`支付模块`、`订单模块`
- **按服务**：`认证服务`、`数据服务`、`消息服务`
- **按版本**：`v1`、`v2`、`v3`

### 不同分类同名接口
- 字段描述可能不同，须分别核实
- 例如：`user_id` 在不同平台可能有不同含义
- 不要假设字段含义相同，必须从页面实际提取

### 验证机制
- 每个文档必须经过三层验证
- 如果三次验证结果不一致，标记为"待人工处理"
- 不要输出未验证或不一致的文档

---

## 快速开始

1. 复制上方「任务提示词模板」
2. 根据你的需求选择分类方式（有分类/无分类）
3. 填写任务表格（分类、URL、备注）
4. 调整配置说明（如果需要自定义目录或命名规则）
5. 发送给 AI 开始执行

---

## 与特定场景版本的区别

本文件是**通用版本**，适用于任何API文档提取场景。如果你有特定的项目需求（如固定的目录结构、特殊的命名规则），建议：

1. 复制本文件创建项目专用版本
2. 在专用版本中固化配置（目录、命名等）
3. 保留本通用版本用于其他场景

例如：
- `api-crawl-prompt-general.md` - 通用版本（本文件）
- `api-crawl-prompt-ocean-engine.md` - Ocean Engine API 专用版本
- `api-crawl-prompt-wechat.md` - 微信 API 专用版本
